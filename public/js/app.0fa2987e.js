(function(t){function e(e){for(var n,i,s=e[0],c=e[1],l=e[2],d=0,h=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&h.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},o={app:0},r=[];function i(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"d02c9b9f"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=n);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(t);var l=new Error;r=function(e){c.onerror=c.onload=null,clearTimeout(d);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",l.name="ChunkLoadError",l.type=n,l.request=r,a[1](l)}o[t]=void 0}};var d=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-navigation-drawer",{attrs:{"mini-variant":t.miniVariant,clipped:t.clipped,fixed:"",light:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[t._l(t.items,function(e,n){return a("v-list-item",{key:n,attrs:{to:e.route,router:"",exact:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-"+t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.text)}})],1)],1)}),a("v-divider"),a("v-list-item",{attrs:{exact:"",to:"/deployment",router:""}},[a("v-list-item-action",[a("v-icon",[t._v("mdi-cloud-upload-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Deployment")])],1)],1)],2)],1),a("v-app-bar",{attrs:{"clipped-left":t.clipped,fixed:"",dark:"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.miniVariant=!t.miniVariant}}}),a("v-toolbar-title",{domProps:{textContent:t._s(t.title)}}),a("v-spacer")],1),a("v-content",{attrs:{light:""}},[a("v-container",{attrs:{light:"",fluid:"","fill-height":""}},[a("router-view")],1)],1),a("v-footer",{attrs:{fixed:!1,app:""}},[a("span",[t._v("Â© 2019")])])],1)},r=[],i=a("2f62"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-layout",{attrs:{"text-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),n("v-flex",{attrs:{"mb-4":""}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n        Welcome to Vuetify\n      ")]),n("p",{staticClass:"subheading font-weight-regular"},[t._v("\n        For help and collaboration with other Vuetify developers,\n        "),n("br"),t._v("please join our online\n        "),n("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),n("v-flex",{attrs:{"mb-5":"",xs12:""}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),n("v-layout",{attrs:{"justify-center":""}},t._l(t.whatsNext,function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1),n("v-flex",{attrs:{xs12:"","mb-5":""}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),n("v-layout",{attrs:{"justify-center":""}},t._l(t.importantLinks,function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1),n("v-flex",{attrs:{xs12:"","mb-5":""}},[n("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),n("v-layout",{attrs:{"justify-center":""}},t._l(t.ecosystem,function(e,a){return n("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v("\n          "+t._s(e.text)+"\n        ")])}),0)],1)],1)],1)},c=[],l={data:()=>({ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]})},d=l,u=a("2877"),h=a("6544"),f=a.n(h),m=a("a523"),v=a("0e8f"),p=a("adda"),b=a("a722"),_=Object(u["a"])(d,s,c,!1,null,null,null),g=_.exports;f()(_,{VContainer:m["a"],VFlex:v["a"],VImg:p["a"],VLayout:b["a"]});var y={name:"App",components:{HelloWorld:g},data:()=>({clipped:!0,drawer:!0,fixed:!1,items:[{route:"/",text:"Dashboard",icon:"home",name:"home"},{route:"/tables",text:"Tables",icon:"table-edit",name:"tables"},{route:"/query",text:"GraphQL",icon:"graphql",name:"graphql"},{route:"/logs",text:"Logs",icon:"book-open",name:"logs"}],miniVariant:!1,right:!0,rightDrawer:!1,title:"Velzy"}),created(){this.$store.dispatch("loadTables")}},x=y,w=a("7496"),D=a("40dc"),V=a("5bc1"),C=a("a75b"),k=a("ce7e"),E=a("553a"),S=a("132d"),T=a("8860"),j=a("da13"),O=a("1800"),R=a("5d23"),$=a("f774"),L=a("2fa4"),N=a("2a7f"),A=Object(u["a"])(x,o,r,!1,null,null,null),I=A.exports;f()(A,{VApp:w["a"],VAppBar:D["a"],VAppBarNavIcon:V["a"],VContainer:m["a"],VContent:C["a"],VDivider:k["a"],VFooter:E["a"],VIcon:S["a"],VList:T["a"],VListItem:j["a"],VListItemAction:O["a"],VListItemContent:R["a"],VListItemTitle:R["b"],VNavigationDrawer:$["a"],VSpacer:L["a"],VToolbarTitle:N["a"]});var q=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"fill-height":""}},[a("div",[a("h2",[t._v("Hi Welcome to Velzy")]),a("p",[t._v("Velzy is a backend-in-a-box and, most importantly, your buddy.")]),a("v-simple-table",{staticClass:"elevation-1"},[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("Name")]),a("th",{staticClass:"text-left"},[t._v("Records")])])]),a("tbody",t._l(t.tables,function(e){return a("tr",{key:e.table_name,on:{click:function(a){return t.navTable(e)}}},[a("td",[t._v("\n            "+t._s(e.table_name)+"\n          ")]),a("td",[t._v(t._s(e.row_count))])])}),0)])],1)])},M=[],F={methods:{navTable(t){this.$router.push("/tables/"+t.table_name)}},computed:Object(i["b"])({tables:t=>t.tables})},B=F,J=(a("a893"),a("1f4f")),H=Object(u["a"])(B,P,M,!1,null,"5f7a6ab0",null),U=H.exports;f()(H,{VFlex:v["a"],VSimpleTable:J["a"]});var W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"fill-height":""}},[[a("v-card",[a("v-card-title",[t._v("\n        Tables\n      ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tables,"items-per-page":20,search:t.search},scopedSlots:t._u([{key:"body",fn:function(e){var n=e.items;return t._l(n,function(e){return a("tr",{key:e.table_name,on:{click:function(a){return t.navToTable(e)}}},[a("td",[t._v(t._s(e.table_name))]),a("td",[t._v(t._s(e.row_count))])])})}}])})],1),a("v-spacer")]],2)},z=[],G={data(){return{search:"",headers:[{text:"Name",value:"table_name"},{text:"Records",value:"row_count"}]}},methods:{navToTable(t){this.$router.push("/tables/"+t.table_name)}},computed:Object(i["b"])({tables:"tables"})},Q=G,K=(a("89bb"),a("b0af")),Y=a("99d9"),X=a("8fea"),Z=Object(u["a"])(Q,W,z,!1,null,"af6b7cfe",null),tt=Z.exports;f()(Z,{VCard:K["a"],VCardTitle:Y["c"],VDataTable:X["a"],VFlex:v["a"],VSpacer:L["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{"fill-height":""}},[a("v-form",{on:{submit:t.runSearch}},[a("v-text-field",{attrs:{solo:"",label:"Search","prepend-inner-icon":"mdi-database-search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t.searching?a("v-btn",{staticClass:"mb-8",on:{click:t.reloadRecords}},[a("v-icon",[t._v("mdi-database-refresh")]),t._v("\n      Reset\n    ")],1):t._e(),a("v-card",[a("v-card-title",[a("h2",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"/tables"}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-database")]),t._v("Tables")],1),t._v(" >\n        "+t._s(t.table.name)+"\n      ")],1)]),a("v-divider"),a("v-card-text",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.records,"items-per-page":20},scopedSlots:t._u([{key:"body",fn:function(e){var n=e.items;return[a("tbody",t._l(n,function(e){return a("tr",{key:e.id},[a("td",{on:{click:function(a){return t.editMe(e)}}},[t._v(" "+t._s(e.id)+" ")]),a("td",{on:{click:function(a){return t.editMe(e)}}},[t._v(" "+t._s(e.body)+" ")]),a("td",[a("v-btn",{staticClass:"error",attrs:{small:""},on:{click:function(a){return t.showDelete(e)}}},[a("v-icon",[t._v("mdi-delete-outline")])],1)],1)])}),0)]}}])})],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete "+t._s(t.table.name)+" #"+t._s(t.deleteId)+"?")]),a("v-card-text",[t._v("\n        This cannot be undone and you will data. You sure?\n      ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.deleteDoc(t.deleteId)}}},[t._v("\n          Yeah do it!\n        ")]),a("v-btn",{attrs:{color:"warning"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n          Oops, no stop!\n        ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"800px"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Edit Record #"+t._s(t.editDocument.id))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-flex",[a("editor",{staticClass:"elevation-1",staticStyle:{width:"100%"},attrs:{lang:"json",height:"500"},on:{init:t.editorInit},model:{value:t.editDocument.json,callback:function(e){t.$set(t.editDocument,"json",e)},expression:"editDocument.json"}})],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:t.saveDoc}},[a("v-icon",[t._v("mdi-database-check")]),t._v("\n          Save\n        ")],1),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.editDialog=!1}}},[t._v("Close")]),a("v-spacer"),a("v-btn",{attrs:{color:"error outline"},on:{click:function(e){return t.showDelete(t.editDocument)}}},[a("v-icon",[t._v("mdi-database-remove")]),t._v("\n          Delete\n        ")],1)],1)],1)],1),a("v-snackbar",{attrs:{color:t.notification.type,"multi-line":!1,timeout:2e3,vertical:!1},model:{value:t.notification.show,callback:function(e){t.$set(t.notification,"show",e)},expression:"notification.show"}},[t._v("\n    "+t._s(t.notification.text)+"\n    "),a("v-btn",{attrs:{dark:""},on:{click:function(e){t.notification.show=!1}}},[t._v("\n      Close\n    ")])],1)],1)},at=[],nt=(a("4460"),{data(){return{search:"",searching:!1,deleteId:null,deleteDialog:!1,editDialog:!1,editDocument:{id:0},notification:{show:!1,type:"success"},headers:[{text:"ID",value:"id"},{text:"Document",value:"body"},{text:"Options",value:"options"}]}},components:{editor:a("7c9e")},methods:{editorInit:function(t){a("2099"),a("818b"),t.setShowPrintMargin(!1)},reloadRecords(){this.search="",this.searching=!1,this.$store.dispatch("loadRecords",this.table.name),this.showSuccess("Dataset reloaded from database...")},runSearch(t){this.searching=!0,t.preventDefault(),this.$store.dispatch("runSearch",this.search)},editMe(t){this.editDocument=t,this.editDialog=!0},showSuccess(t){this.notification.type="success",this.notification.text=t,this.notification.show=!0},showError(t){this.notification.type="error",this.notification.text=t,this.notification.show=!0},saveDoc(){this.table.name;const t=JSON.parse(this.editDocument.json);this.$store.dispatch("saveDocument",t).then(t=>{console.log(t),t.success?(this.editDialog=!1,this.showSuccess("Record saved...")):this.showError("Record not saved: "+t.error)}).catch(t=>{this.showError("BOOM!: "+t)})},showDelete(t){this.editDialog=!1,this.deleteId=t.id,this.deleteDialog=!0},deleteDoc(t){this.$store.dispatch("deleteDocument",t).then(t=>{this.showSuccess("Record deleted..."),this.$store.dispatch("loadTables")}).catch(t=>{this.showError("Oops - problem: "+t)}).finally(()=>{this.deleteDialog=!1})}},computed:Object(i["b"])({table:t=>t.table,records:t=>{if(t.records)return t.records.map(t=>{const e=JSON.stringify(t,null,"\t");return{id:t.id,json:e,body:e.substring(0,100)+"..."}})}}),created(){const t=this.$route.params.id;this.$store.dispatch("loadRecords",t)}}),ot=nt,rt=(a("a415"),a("8336")),it=a("169a"),st=a("4bd4"),ct=a("0fd9"),lt=a("2db4"),dt=a("8654"),ut=Object(u["a"])(ot,et,at,!1,null,"3699c57a",null),ht=ut.exports;f()(ut,{VBtn:rt["a"],VCard:K["a"],VCardActions:Y["a"],VCardText:Y["b"],VCardTitle:Y["c"],VContainer:m["a"],VDataTable:X["a"],VDialog:it["a"],VDivider:k["a"],VFlex:v["a"],VForm:st["a"],VIcon:S["a"],VRow:ct["a"],VSnackbar:lt["a"],VSpacer:L["a"],VTextField:dt["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("iframe",{staticClass:"elevation-1",staticStyle:{overflow:"hidden",height:"100%",width:"100%"},attrs:{src:t.graphUrl,frameborder:"0",height:"100%",width:"100%"}})])],1)},mt=[],vt={computed:Object(i["b"])({graphUrl:t=>t.graphUrl})},pt=vt,bt=Object(u["a"])(pt,ft,mt,!1,null,null,null),_t=bt.exports;f()(bt,{VContainer:m["a"],VLayout:b["a"]}),n["a"].use(q["a"]);var gt=new q["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:U},{path:"/tables",name:"tables",component:tt},{path:"/tables/:id",name:"records",component:ht},{path:"/query",name:"graphql",component:_t},{path:"/about",name:"about",component:()=>a.e("about").then(a.bind(null,"f820"))}]});a("bc3a");n["a"].use(i["a"]);const yt=function(t){const e=JSON.stringify(t);return console.log("Executing Query",e),fetch("http://localhost:3000/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then(t=>t.json()).catch(t=>console.log(t))};var xt=new i["a"].Store({state:{graphUrl:"http://localhost:3000/graphql",table:{name:"Nothing"},records:[],columnNames:null,stats:{},alerts:[],tables:[],selectedRecord:null},mutations:{SET_TABLES(t,e){t.tables=e},ADD_TABLE(t,e){t.tables.push({table_name:e,row_count:0})},SET_RECORDS(t,e){console.log(e),t.records=e.records,t.table={name:e.tableName}},SET_RECORD(t,e){t.selectedRecord=e.record},DELETE_RECORD(t,e){t.records=t.records.filter(t=>t.id!==e)},RECORD_CHANGED(t,e){if(t.table.name===e.tableName){const a=t.records.find(t=>t.id===parseInt(e.id));if("DELETE"===e.action){if(a){const e=t.records.indexOf(a);t.records.splice(e,1)}}else if(a){const n=t.records.indexOf(a);t.records.splice(n,1,e.record)}else t.records.push(e.record)}}},actions:{saveDocument(t,e){const a=JSON.stringify(e),n=a.replace(/\"([^(\")"]+)\":/g,"$1:");return yt({query:`mutation {saveDocument(collection:"${t.state.table.name}", body:${n})}`}).then(t=>{return{success:!0,data:t.data.saveDocument}}).catch(t=>{return{success:!1,err:error}})},deleteDocument(t,e){yt({query:`mutation {\n        deleteDocument(tableName: "${t.state.table.name}", id: ${e})\n      }`}).then(a=>{t.commit("DELETE_RECORD",e)})},loadTables(t){yt({query:"{ tableList }"}).then(e=>t.commit("SET_TABLES",e.data.tableList))},addTable(t,e){t.commit("ADD_TABLE",e)},recordChanged(t,e){t.commit("RECORD_CHANGED",e)},loadRecords(t,e){yt({query:`{tableRecords(tableName:"${e}")}`}).then(a=>t.commit("SET_RECORDS",{tableName:e,records:a.data.tableRecords}))},runSearch(t,e){yt({query:`{ tableSearch (tableName: "${t.state.table.name}", term: "${e}")}`}).then(e=>t.commit("SET_RECORDS",{tableName:t.state.table.name,records:e.data.tableSearch}))}}}),wt=a("f309");n["a"].use(wt["a"]);var Dt=new wt["a"]({icons:{iconfont:"mdi"}}),Vt=a("8055"),Ct=a.n(Vt),kt=a("5132"),Et=a.n(kt);n["a"].use(new Et.a({debug:!0,connection:Ct()("http://localhost:3000"),vuex:{store:xt,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),n["a"].config.productionTip=!1,new n["a"]({router:gt,store:xt,vuetify:Dt,render:t=>t(I)}).$mount("#app")},"82e7":function(t,e,a){},"89bb":function(t,e,a){"use strict";var n=a("f4fa"),o=a.n(n);o.a},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"},a415:function(t,e,a){"use strict";var n=a("daff"),o=a.n(n);o.a},a893:function(t,e,a){"use strict";var n=a("82e7"),o=a.n(n);o.a},daff:function(t,e,a){},f4fa:function(t,e,a){}});
//# sourceMappingURL=app.0fa2987e.js.map